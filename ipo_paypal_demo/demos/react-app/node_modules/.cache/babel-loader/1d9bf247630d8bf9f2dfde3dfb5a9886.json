{"ast":null,"code":"import _slicedToArray from \"/Users/angelinemeitzler/Documents/Code/ipo/ipo_paypal/demos/react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/angelinemeitzler/Documents/Code/ipo/ipo_paypal/demos/react-app/src/App.js\";\nimport './App.css';\nimport React, { useState, useRef, useEffect } from 'react';\nimport chair from './chair.jpg';\nimport gif from './giphy.gif';\nconst paypalRef1 = \"\";\nconst paypalRef2 = \"\";\nconst paypalRef3 = \"\";\n\nclass Countdown extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      days: 0,\n      hours: 0,\n      min: 0,\n      sec: 0\n    };\n  }\n\n  componentDidMount() {\n    // update every second\n    this.interval = setInterval(() => {\n      const date = this.calculateCountdown(this.props.date);\n      date ? this.setState(date) : this.stop();\n    }, 1000);\n  }\n\n  componentWillUnmount() {\n    this.stop();\n  }\n\n  calculateCountdown(endDate) {\n    let diff = (Date.parse(new Date(endDate)) - Date.parse(new Date())) / 1000; // clear countdown when date is reached\n\n    if (diff <= 0) return false;\n    const timeLeft = {\n      years: 0,\n      days: 10,\n      hours: 0,\n      min: 0,\n      sec: 0,\n      millisec: 0\n    }; // calculate time difference between now and expected date\n\n    if (diff >= 365.25 * 86400) {\n      // 365.25 * 24 * 60 * 60\n      timeLeft.years = Math.floor(diff / (365.25 * 86400));\n      diff -= timeLeft.years * 365.25 * 86400;\n    }\n\n    if (diff >= 86400) {\n      // 24 * 60 * 60\n      timeLeft.days = Math.floor(diff / 86400);\n      diff -= timeLeft.days * 86400;\n    }\n\n    if (diff >= 3600) {\n      // 60 * 60\n      timeLeft.hours = Math.floor(diff / 3600);\n      diff -= timeLeft.hours * 3600;\n    }\n\n    if (diff >= 60) {\n      timeLeft.min = Math.floor(diff / 60);\n      diff -= timeLeft.min * 60;\n    }\n\n    timeLeft.sec = diff;\n    return timeLeft;\n  }\n\n  stop() {\n    clearInterval(this.interval);\n  }\n\n  addLeadingZeros(value) {\n    value = String(value);\n\n    while (value.length < 2) {\n      value = '0' + value;\n    }\n\n    return value;\n  }\n\n  render() {\n    const countDown = this.state;\n    return React.createElement(\"div\", {\n      className: \"Countdown\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"Countdown-col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"Countdown-col-element\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, this.addLeadingZeros(countDown.days)), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \" \", countDown.days === 1 ? 'Day' : 'days'))), React.createElement(\"span\", {\n      className: \"Countdown-col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"Countdown-col-element\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \" \", this.addLeadingZeros(countDown.hours)), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \" hours\"))), React.createElement(\"span\", {\n      className: \"Countdown-col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"Countdown-col-element\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \" \", this.addLeadingZeros(countDown.min)), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \" minutes\"))), React.createElement(\"span\", {\n      className: \"Countdown-col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"Countdown-col-element\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \" \", this.addLeadingZeros(countDown.sec)), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, \" seconds\"))));\n  }\n\n}\n\nCountdown.propTypes = {\n  date: PropTypes.string.isRequired\n};\nCountdown.defaultProps = {\n  date: new Date()\n};\n\nfunction Product({\n  product\n}) {\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        paidFor = _useState2[0],\n        setPaidFor = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        error = _useState4[0],\n        setError = _useState4[1];\n\n  const paypalRef1 = useRef();\n  const paypalRef2 = useRef();\n  const paypalRef3 = useRef();\n\n  function handle(ray) {\n    console.log(ray);\n  }\n\n  useEffect(j => {\n    var ray = [];\n\n    for (var i = 0; i < product.length; i++) {\n      console.log(product[i].pp);\n      ray.push(product);\n      window.paypal.Buttons({\n        createOrder: (data, actions) => {\n          handle(data);\n          return actions.order.create({\n            purchase_units: [{\n              description: product[0].description,\n              amount: {\n                currency_code: 'USD',\n                value: '0.01'\n              }\n            }]\n          });\n        },\n        onApprove: async (data, actions) => {\n          const order = await actions.order.capture();\n          setPaidFor(true);\n          console.log(\"order approve\" + order);\n          console.log(data);\n        }\n      }).render(product[i].pp);\n      console.log(i);\n      console.log(ray);\n    }\n  }, '#paypall-button-container');\n\n  if (paidFor) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Congrats, you just bought \", product.name, \"!\"), React.createElement(\"img\", {\n      alt: product.description,\n      src: gif,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }));\n  }\n\n  return product.map(item => React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202\n    },\n    __self: this\n  }, item.description, \" for $\", item.price, \" \"), React.createElement(\"img\", {\n    alt: item.description,\n    src: item.image,\n    width: \"200\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }), item.pp, React.createElement(\"div\", {\n    ref: node => {\n      item.pp = node;\n    },\n    onClick: () => {\n      console.log('alert');\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  })));\n}\n\nfunction App() {\n  const product = [{\n    price: 0.01,\n    name: 'stock 1',\n    description: '1',\n    image: chair,\n    pp: paypalRef1,\n    quantity: 1\n  }, {\n    price: 0.01,\n    name: 'stock 2',\n    description: '2',\n    image: chair,\n    pp: paypalRef2,\n    quantity: 1\n  }, {\n    price: 0.01,\n    name: 'stock 2',\n    description: '3',\n    image: chair,\n    pp: paypalRef3,\n    quantity: 1\n  }];\n  return React.createElement(React.Fragment, null, React.createElement(Countdown, {\n    date: \"2019-08-11T12:00:00.000Z\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  }, React.createElement(Product, {\n    product: product,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  })));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/angelinemeitzler/Documents/Code/ipo/ipo_paypal/demos/react-app/src/App.js"],"names":["React","useState","useRef","useEffect","chair","gif","paypalRef1","paypalRef2","paypalRef3","Countdown","Component","constructor","props","state","days","hours","min","sec","componentDidMount","interval","setInterval","date","calculateCountdown","setState","stop","componentWillUnmount","endDate","diff","Date","parse","timeLeft","years","millisec","Math","floor","clearInterval","addLeadingZeros","value","String","length","render","countDown","propTypes","PropTypes","string","isRequired","defaultProps","Product","product","paidFor","setPaidFor","error","setError","handle","ray","console","log","j","i","pp","push","window","paypal","Buttons","createOrder","data","actions","order","create","purchase_units","description","amount","currency_code","onApprove","capture","name","map","item","price","image","node","App","quantity"],"mappings":"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","sourcesContent":["import './App.css';\nimport React, { useState, useRef, useEffect } from 'react';\nimport chair from './chair.jpg';\nimport gif from './giphy.gif';\nconst paypalRef1 = \"\"\nconst paypalRef2 = \"\"\nconst paypalRef3 = \"\"\n\n\n\n\n\nclass Countdown extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      days: 0,\n      hours: 0,\n      min: 0,\n      sec: 0,\n    }\n  }\n  componentDidMount() {\n    // update every second\n    this.interval = setInterval(() => {\n      const date = this.calculateCountdown(this.props.date);\n      date ? this.setState(date) : this.stop();\n    }, 1000);\n  }\n\n  componentWillUnmount() {\n    this.stop();\n  }\n\n  calculateCountdown(endDate) {\n    let diff = (Date.parse(new Date(endDate)) - Date.parse(new Date())) / 1000;\n\n    // clear countdown when date is reached\n    if (diff <= 0) return false;\n\n    const timeLeft = {\n      years: 0,\n      days: 10,\n      hours: 0,\n      min: 0,\n      sec: 0,\n      millisec: 0,\n    };\n\n    // calculate time difference between now and expected date\n    if (diff >= (365.25 * 86400)) { // 365.25 * 24 * 60 * 60\n      timeLeft.years = Math.floor(diff / (365.25 * 86400));\n      diff -= timeLeft.years * 365.25 * 86400;\n    }\n    if (diff >= 86400) { // 24 * 60 * 60\n      timeLeft.days = Math.floor(diff / 86400);\n      diff -= timeLeft.days * 86400;\n    }\n    if (diff >= 3600) { // 60 * 60\n      timeLeft.hours = Math.floor(diff / 3600);\n      diff -= timeLeft.hours * 3600;\n    }\n    if (diff >= 60) {\n      timeLeft.min = Math.floor(diff / 60);\n      diff -= timeLeft.min * 60;\n    }\n    timeLeft.sec = diff;\n    return timeLeft;\n  }\n\n  stop() {\n    clearInterval(this.interval);\n  }\n\n  addLeadingZeros(value) {\n    value = String(value);\n    while (value.length < 2) {\n      value = '0' + value;\n    }\n    return value;\n  }\n\n  render() {\n    const countDown = this.state;\n\n    return (\n      <div className=\"Countdown\">\n        <span className=\"Countdown-col\">\n          <span className=\"Countdown-col-element\">\n              <strong>{this.addLeadingZeros(countDown.days)}</strong>\n              <span> {countDown.days === 1 ? 'Day' : 'days'}</span>\n          </span>\n        </span>\n\n        <span className=\"Countdown-col\">\n          <span className=\"Countdown-col-element\">\n            <strong> {this.addLeadingZeros(countDown.hours)}</strong>\n            <span> hours</span>\n          </span>\n        </span>\n\n\n        <span className=\"Countdown-col\">\n          <span className=\"Countdown-col-element\">\n            <strong> {this.addLeadingZeros(countDown.min)}</strong>\n            <span> minutes</span>\n          </span>\n        </span>\n\n        <span className=\"Countdown-col\">\n          <span className=\"Countdown-col-element\">\n            <strong> {this.addLeadingZeros(countDown.sec)}</strong>\n            <span> seconds</span>\n          </span>\n        </span>\n      </div>\n    );\n  }\n}\nCountdown.propTypes = {\n  date: PropTypes.string.isRequired\n};\nCountdown.defaultProps = {\n  date: new Date()\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction Product({ product }) {\n  const [paidFor, setPaidFor] = useState(false);\n  const [error, setError] = useState(null);\n  const paypalRef1 = useRef();\n  const paypalRef2 = useRef();\n  const paypalRef3 = useRef();\n\n  function handle(ray){\n    console.log(ray)\n  }\n\n  useEffect((j) => {\n    var ray = []\n    for(var i=0; i < product.length; i++) {\n      console.log(product[i].pp)\n      ray.push(product)\n      \n      window.paypal\n        .Buttons({\n          createOrder: (data, actions) => {\n            handle(data)\n            return actions.order.create({\n              purchase_units: [\n                {\n                  description: product[0].description,\n                  amount: {\n                    currency_code: 'USD',\n                    value: '0.01',\n                  },\n                },\n              ],\n            });\n          },\n          onApprove: async (data, actions) => {\n            const order = await actions.order.capture();\n            setPaidFor(true);\n            console.log(\"order approve\" + order);\n            console.log(data)\n          }\n        }).render(product[i].pp);\n        console.log(i)\n        console.log(ray)\n      }\n  }, '#paypall-button-container');\n\n  if (paidFor) {\n    return (\n      <div>\n        <h1>Congrats, you just bought {product.name}!</h1>\n        <img alt={product.description} src={gif} />\n      </div>\n    );\n  }\n\n  return (\n  product.map(item => (\n    <div>\n        <h1>{item.description} for ${item.price} </h1>\n        <img alt={item.description} src={item.image} width=\"200\" />\n        {item.pp}\n        <div ref={(node) => {item.pp = node;}}  onClick={()=>{ console.log('alert'); }}/>\n    </div>\n  ))\n  );\n}\n\n\nfunction App() {\n  const product = [\n    {\n      price: 0.01,\n      name: 'stock 1',\n      description: '1',\n      image: chair,\n      pp: paypalRef1,\n      quantity: 1,\n    },\n    {\n      price: 0.01,\n      name: 'stock 2',\n      description: '2',\n      image: chair,\n      pp: paypalRef2,\n      quantity: 1,\n    },\n    {\n      price: 0.01,\n      name: 'stock 2',\n      description: '3',\n      image: chair,\n      pp: paypalRef3,\n      quantity: 1,\n    }\n  ];\n\n  return (\n    <>\n      <Countdown date=\"2019-08-11T12:00:00.000Z\"/>\n      <div className=\"App\">\n        <Product product={product} />\n      </div>\n    </>\n  );\n}\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}